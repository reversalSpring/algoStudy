# https://leetcode.com/problems/3sum/
from typing import List
import random

"""
Given an array nums of n integers, are there elements a, b, c in nums such that a + b + c = 0? 
Find all unique triplets in the array which gives the sum of zero.

Notice that the solution set must not contain duplicate triplets.

Constraints:
1. 0 <= nums.length <= 3000
2. -105 <= nums[i] <= 105

"""
class Solution:
    def threeSum(self, nums: List[int]) -> List[List[int]]:
        if len(nums) < 3:
            return []
        
        # 인덱스 조합만으로는 중복 체크가 힘들다
        # [1, 0, -1, 1]
        # "012" = [1, 0, -1]
        # "123" = [0, -1, 1] = [1, 0, -1]
        # --check_idx_dict = {}--
        nums.sort()
        ans = []
        nums_len = len(nums)

        for i in range(nums_len - 2):
            if i > 0 and nums[i] == nums[i - 1]:
                continue

            left, right = i + 1, nums_len - 1
            while left < right:
                sum = nums[i] + nums[left] + nums[right]
                # a + b + c = 0
                # b + c = -a
                if sum < 0:
                    left += 1
                elif sum > 0:
                    right -= 1
                else:
                    ans.append((nums[i], nums[left], nums[right]))
                    while left < right and nums[left] == nums[left + 1]:
                        left += 1
                    while left < right and nums[right] == nums[right - 1]:
                        right -= 1
                    left += 1
                    right -= 1

        return ans

s = Solution()
case = [-1,0,1,2,-1,-4]
case = []
case = [-13, -8, -45, 0, 86, -61, 43, 35, -2, -33, 16, 27, -37, 1, -28, 29, -5, -3, 15, 27, -11, -36, 76, -95, -46, -54, 96, -44, -40, 87, 36, 0, -25, 54, 105, -18, -64, 18, 83, 27, -16, 39, -33, 39, 4, 62, 60, -47, 76, -28, 28, -105, -97, 80, -87, -9, -94, 14, -66, -71, 95, 18, -4, -58, -51, -66, 80, 47, -100, -33, -38, 4, 92, -38, -104, -99, -45, -29, -73, -69, -65, 86, 84, -51, -62, -31, 12, 53, 26, 25, -12, 39, 79, -63, -55, -34, 73, 25, 34, 26, 48, -60, -66, 28, 3, 40, 0, -9, -90, 17, -73, -33, -31, -38, -51, 9, 9, -3, 27, 85, -56, 102, 80, 5, -45, -62, -20, 89, -45, -75, 56, 5, 50, -68, 58, -53, -51, 24, 85, 29, -78, -27, -70, 41, -14, 22, -27, -37, -36, 74, -66, -90, -43, 89, 11, 30, 65, 75, -100, -39, -62, 99, 3, 76, 18, -10, 43, 34, -77, 85, 78, 95, -66, -53, -38, -23, -34, -78, -30, -15, 11, -104, 10, 78, -13, -96, 70, -72, -26, -43, -50, 104, 3, -34, 73, -32, -105, -50, 101, -6, -48, -17, 33, -15, 77, -5, -6, 39, 84, -8, 3, -35, -31, -74, -3, 41, -80, -80, 84, -76, 44, -68, 80, 56, -90, 5, -56, 82, -3, 103, 92, 37, -4, 104, 92, 95, -68, -37, -69, -19, 38, -69, -66, -102, -48, -10, 65, -42, -21, -66, -15, 0, 96, 60, -39, -42, 28, 20, 33, -43, 56, -87, 103, -44, -83, -8, 63, -40, -103, -93, -82, 35, 82, -102, 55, -46, 22, -95, 57, 40, -50, -77, 18, 72, -61, 99, -13, -79, -28, 41, 50, 85, 44, -13, 77, 7, -54, -96, -88, -5, -73, 83, 62, 55, 29, -37, -68, -98, -7, 44, -50, 19, 2, -10, -35, 29, -33, -28, 61, -64, 31, -70, 96, 44, 85, 62, -43, 19, -10, -93, 74, 35, -85, 61, -103, -34, 5, -96, 32, 81, 10, -61, 56, 77, 48, -11, -81, 59, -15, 83, -19, -22, -52, -76, 100, 43, 28, 64, 63, 53, 4, 0, -49, 61, -52, -71, -2, 101, 29, 24, -48, -76, -24, 23, 28, 10, 23, -72, 91, 83, -94, 21, -5, -27, 25, -96, -84, -39, -15, 30, -65, -53, -12, 27, -21, 90, 32, 61, 39, -57, -43, 59, 2, -49, -87, -69, -69, 51, 88, -27, -93, -78, 96, 66, 28, -6, 73, -4, -12, -73, 93, -104, -43, -82, 18, 76, 45, 16, -20, -45, 34, -65, 67, 97, -13, 23, -95, -7, 44, 104, 6, 27, 28, -14, 59, 55, -67, 80, 1, -101, -84, -90, 40, 45, 28, 55, -29, -66, -98, -20, -71, 39, 96, -17, 27, -97, -103, -25, -55, 84, 70, -45, -32, -28, -9, 68, 25, 61, -47, 8, 85, -93, -105, 105, 74, 10, -103, 1, -67, 10, -73, 71, 102, 86, -61, -23, -12, 19, -27, -103]

ans = s.threeSum(case)
print(ans)